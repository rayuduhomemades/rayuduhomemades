<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Previous head content remains the same -->
  <style>
    /* Previous styles remain the same */
    
    /* Add this new style for the order modal */
    .order-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      z-index: 1000;
      justify-content: center;
      align-items: center;
    }
    
    .order-modal-content {
      background: white;
      padding: 2rem;
      border-radius: 8px;
      max-width: 500px;
      width: 90%;
    }
    
    .order-modal h3 {
      color: var(--primary);
      margin-bottom: 1rem;
    }
    
    .order-modal-buttons {
      display: flex;
      gap: 1rem;
      margin-top: 1.5rem;
    }
  </style>
</head>
<body>
  <!-- Previous HTML content remains the same until the product cards -->

  <!-- Add this modal at the bottom of the body, before the scripts -->
  <div class="order-modal" id="order-modal">
    <div class="order-modal-content">
      <h3>Complete Your Order</h3>
      <form id="order-form">
        <div style="margin-bottom: 1rem;">
          <input type="text" placeholder="Your Name" id="order-name" required style="width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: 4px;">
        </div>
        <div style="margin-bottom: 1rem;">
          <input type="tel" placeholder="WhatsApp Number" id="order-phone" required style="width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: 4px;">
        </div>
        <div style="margin-bottom: 1rem;">
          <textarea placeholder="Shipping Address" id="order-address" required style="width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: 4px; min-height: 80px;"></textarea>
        </div>
        <div style="margin-bottom: 1rem;">
          <textarea placeholder="Additional Notes (optional)" id="order-notes" style="width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: 4px; min-height: 60px;"></textarea>
        </div>
        <div class="order-modal-buttons">
          <button type="button" class="btn btn-outline" id="cancel-order">Cancel</button>
          <button type="submit" class="btn whatsapp-btn">Complete Order via WhatsApp</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Previous scripts remain until the quick order button handling -->

  <script>
    // Previous JavaScript remains the same until the quick order button handling

    // Handle quick order buttons (WhatsApp buttons on each product)
    document.querySelectorAll('.quick-order-btn').forEach(button => {
      button.addEventListener('click', (e) => {
        e.preventDefault();
        
        // Get product details from data attributes
        const product = {
          id: button.dataset.id,
          name: button.dataset.name,
          price: button.dataset.price,
          weight: button.dataset.weight,
          image: button.dataset.image
        };
        
        // Store the product for the order
        sessionStorage.setItem('currentOrder', JSON.stringify([product]));
        
        // Show the order modal
        document.getElementById('order-modal').style.display = 'flex';
      });
    });

    // Handle the order modal form submission
    document.getElementById('order-form').addEventListener('submit', (e) => {
      e.preventDefault();
      
      const name = document.getElementById('order-name').value;
      const phone = document.getElementById('order-phone').value;
      const address = document.getElementById('order-address').value;
      const notes = document.getElementById('order-notes').value;
      
      // Get the product from session storage
      const products = JSON.parse(sessionStorage.getItem('currentOrder')) || [];
      
      if (products.length === 0) {
        alert('No products in order. Please try again.');
        return;
      }
      
      if (!name || !phone || !address) {
        alert('Please fill in all required fields.');
        return;
      }
      
      // Format the WhatsApp message
      let message = `*NEW ORDER*%0A%0A`;
      message += `*Customer Name:* ${name}%0A`;
      message += `*WhatsApp Number:* ${phone}%0A`;
      message += `*Shipping Address:* ${address}%0A%0A`;
      
      message += `*Order Items:*%0A`;
      let total = 0;
      
      products.forEach(product => {
        message += `- ${product.name} (${product.weight}) - ₹${product.price}%0A`;
        total += parseFloat(product.price);
      });
      
      message += `%0A*Total Amount:* ₹${total.toFixed(2)}%0A%0A`;
      
      if (notes) {
        message += `*Additional Notes:*%0A${notes}%0A%0A`;
      }
      
      message += `Please confirm this order and provide payment details.`;
      
      // Open WhatsApp with the formatted message
      window.open(`https://wa.me/message/JPVZYNPSYOFIL1?text=${encodeURIComponent(message)}`, '_blank');
      
      // Close the modal and reset the form
      document.getElementById('order-modal').style.display = 'none';
      document.getElementById('order-form').reset();
      sessionStorage.removeItem('currentOrder');
    });
    
    // Handle cancel button in order modal
    document.getElementById('cancel-order').addEventListener('click', () => {
      document.getElementById('order-modal').style.display = 'none';
      sessionStorage.removeItem('currentOrder');
    });

    // Previous remaining JavaScript remains the same
  </script>
</body>
</html>